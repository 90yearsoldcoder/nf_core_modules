- name: Run bwa index
  command: nextflow run ./tests/software/bwa -profile singularity -entry test_bwa_index -c tests/config/nextflow.config
  tags:
    - bwa
    - bwa_index
  files:
    - path: output/bwa/bwa/NC_010473.amb
      md5sum: 942a990ae872f1c0b8d72dda2db405d5
    - path: output/bwa/bwa/NC_010473.bwt
      md5sum: 7301b52e2ecb893d429a49fa692447ae
    - path: output/bwa/bwa/NC_010473.pac
      md5sum: 4d5e6fc45bbc968f7f859e9ca2cc89ad
    - path: output/bwa/bwa/NC_010473.sa
      md5sum: a47dcc92e750e2f16fbd979b8ff9538e

- name: Run bwa mem single-end
  command: nextflow run ./tests/software/bwa -profile singularity -entry test_bwa_mem_single_end -c tests/config/nextflow.config
  tags:
    - bwa
    - bwa_mem
  files:
    - path: output/test_single_end/test.bam
      md5sum: 52e81e5bd523d0b27fe533b21a0d80f5
      
- name: Run bwa mem paired-end
  command: nextflow run ./tests/software/bwa -profile singularity -entry test_bwa_mem_paired_end -c tests/config/nextflow.config
  tags:
    - bwa
    - bwa_mem
  files:
    - path: output/test_paired_end/test.bam
      md5sum: 86d82fdb68ed384c656cfc62a253052f
