- name: antismash antismashlite test_antismashlite
  command: nextflow run tests/modules/antismash/antismashlite -entry test_antismashlite -c tests/config/nextflow.config
  tags:
    - antismash/antismashlite
    - antismash
  files:
    - path: output/antismash/test/NZ_CP069563.1.region001.gbk
      contains: ['/tool="antismash"']
    - path: output/antismash/test/NZ_CP069563.1.region002.gbk
      contains: ['/tool="antismash"']
    - path: output/antismash/test/css/bacteria.css
      md5sum: 8b3c2f8b143d5245a5f42f55803c532c
    - path: output/antismash/test/genome.gbk
      contains: ['/tool="antismash"']
    - path: output/antismash/test/genome.json
      contains: ['{"version": "6.0.1", "input_file": "genome.gbff.gz", "records": [{"id": "NZ_CP069563.1", "seq": {"data":']
    - path: output/antismash/test/genome.zip
    - path: output/antismash/test/index.html
      md5sum: 32aaf51315258af3b300d9a5bafd7bdc
    - path: output/antismash/test/js/antismash.js
      md5sum: 58e90c3d783ae014cc3d51849bcb50a2
    - path: output/antismash/test/js/jquery.js
      md5sum: 397754ba49e9e0cf4e7c190da78dda05
    - path: output/antismash/test/js/jquery.tablesorter.min.js
      md5sum: 5e9e08cef4d1be0eaa538e6eb28809a7
    - path: output/antismash/test/regions.js
      contains: ['"seq_id": "NZ_CP069563.1"']
    - path: output/antismash/test/test.log
      contains: ['antiSMASH version: 6.0.1']
    - path: output/antismash/versions.yml
      md5sum: 759431a43da33e2ef8e2d0ebd79a439b

- name: antismash antismashlite test_prokka_antismashlite
  command: nextflow run tests/modules/antismash/antismashlite -entry test_prokka_antismashlite -c tests/config/nextflow.config
  tags:
    - antismash/antismashlite
    - antismash
  files:
    - path: output/antismash/test/NZ_CP069563.1.region001.gbk
      contains: ['/tool="antismash"']
    - path: output/antismash/test/NZ_CP069563.1.region002.gbk
      contains: ['/tool="antismash"']
    - path: output/antismash/test/css/bacteria.css
      md5sum: 8b3c2f8b143d5245a5f42f55803c532c
    - path: output/antismash/test/index.html
      md5sum: 3773c3ec61fb1e8cd9a67791b37d9b79
    - path: output/antismash/test/js/antismash.js
      md5sum: 58e90c3d783ae014cc3d51849bcb50a2
    - path: output/antismash/test/js/jquery.js
      md5sum: 397754ba49e9e0cf4e7c190da78dda05
    - path: output/antismash/test/js/jquery.tablesorter.min.js
      md5sum: 5e9e08cef4d1be0eaa538e6eb28809a7
    - path: output/antismash/test/regions.js
      contains: [ '"seq_id": "NZ_CP069563.1"' ]
    - path: output/antismash/test/test.gbk
      contains: ['/tool="antismash"']
    - path: output/antismash/test/test.json
      contains: ['"id": "NZ_CP069563.1"']
    - path: output/antismash/test/test.log
      contains: ['antiSMASH status: SUCCESS']
    - path: output/antismash/test/test.zip
    - path: output/antismash/versions.yml
      md5sum: da6bed0032d0f7ad4741e0074ad6b1ff
    - path: output/gunzip/genome.fna
      md5sum: dafd38f5454b54fbea38245d773062a5
    - path: output/prokka/test/test.err
      md5sum: 194fd8a1d1cde9919841a1afd4414760
    - path: output/prokka/test/test.faa
      md5sum: 8fefbfa7860f280cc881c3a3b377d6da
    - path: output/prokka/test/test.ffn
      md5sum: 9c4d4d7dc28625bcb13c6fbd27ca13c3
    - path: output/prokka/test/test.fna
      md5sum: 96aa7707b864499745e8946f169ae8e0
    - path: output/prokka/test/test.fsa
      md5sum: dbe7d3d43d46920802d2aec5cd177ddc
    - path: output/prokka/test/test.gbk
      md5sum: 286ea011a64c0d281de3981ed2f296ff
    - path: output/prokka/test/test.gff
      md5sum: 9f733b702454e7750b7d4686369fe7e4
    - path: output/prokka/test/test.log
      contains: ["Annotation finished successfully."]
    - path: output/prokka/test/test.sqn
      md5sum: a901ac190675f976e373219f0191d067
    - path: output/prokka/test/test.tbl
      md5sum: 98f3b705f47b40255631ae43823e8271
    - path: output/prokka/test/test.tsv
      md5sum: 26e8aa4b2212f320e82b6db7c93d4461
    - path: output/prokka/test/test.txt
      md5sum: aea5834a64dff02d3588cecbe25c3914
