- name: gatk4 markduplicatesspark test_gatk4_markduplicates_spark
  command: nextflow run ./tests/modules/gatk4/markduplicatesspark -entry test_gatk4_markduplicates_spark -c ./tests/config/nextflow.config  -c ./tests/modules/gatk4/markduplicatesspark/nextflow.config
  tags:
    - gatk4
    - gatk4/markduplicatesspark
  files:
    - path: output/gatk4/test.bam
      md5sum: dc1a09ac6371aab7c50d1a554baa06d3

- name: gatk4 markduplicatesspark test_gatk4_markduplicates_spark_multiple_bams
  command: nextflow run ./tests/modules/gatk4/markduplicatesspark -entry test_gatk4_markduplicates_spark_multiple_bams -c ./tests/config/nextflow.config  -c ./tests/modules/gatk4/markduplicatesspark/nextflow.config
  tags:
    - gatk4
    - gatk4/markduplicatesspark
  files:
    - path: output/gatk4/test.bam
      md5sum: 898cb0a6616897d8ada90bab53bf0837

- name: gatk4 markduplicatesspark test_gatk4_markduplicates_spark_multiple_bams_metrics
  command: nextflow run ./tests/modules/gatk4/markduplicatesspark -entry test_gatk4_markduplicates_spark_multiple_bams_metrics -c ./tests/config/nextflow.config  -c ./tests/modules/gatk4/markduplicatesspark/nextflow.config
  tags:
    - gatk4
    - gatk4/markduplicatesspark
  files:
    - path: output/gatk4/test.bam
      md5sum: 898cb0a6616897d8ada90bab53bf0837
    - path: output/gatk4/test.metrics
      contains: "## METRICS CLASS\torg.broadinstitute.hellbender.utils.read.markduplicates.GATKDuplicationMetrics\nLIBRARY\tUNPAIRED_READS_EXAMINED READ_PAIRS_EXAMINED\tSECONDARY_OR_SUPPLEMENTARY_RDS\tUNMAPPED_READS\tUNPAIRED_READ_DUPLICATES\tREAD_PAIR_DUPLICATES\tREAD_PAIR_OPTICAL_DUPLICATESPERCENT_DUPLICATION\tESTIMATED_LIBRARY_SIZE\ntestN\t0\t2820\t2\t2\t0\t828\t0\t0.293617\t3807\ntestT\t0\t2718\t0\t0\t0\t716\t0\t0.263429\t4206"
